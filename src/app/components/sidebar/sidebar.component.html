<!-- Sidebar Container -->
<div class="fixed inset-y-0 left-0 w-64 bg-white dark:bg-blue-900 shadow-lg transform transition-transform duration-300 ease-in-out z-50 md:relative md:translate-x-0"
     [ngClass]="{ '-translate-x-full': !sidebarOpen, 'translate-x-0': sidebarOpen }">
  
  <!-- Sidebar Header -->
  <div class="flex items-center justify-between p-4 border-b border-blue-300">
    <h2 class="text-lg font-semibold text-blue-800 dark:text-white">Users</h2>
    <button (click)="closeSidebar()" class="text-blue-900 text-xl md:hidden">âœ–</button>
  </div>

  <!-- Sidebar Menu (Scrollable Users) -->
  <div class="menu mt-4 px-4 flex flex-col overflow-y-auto h-[calc(100vh-120px)]">
    
    <!-- "All Users" Button -->
    <button (click)="sidebarChange('All')"
        class="w-full flex items-center gap-2 py-2 px-4 rounded-lg transition-all duration-300"
        [ngClass]="{ 'bg-blue-500 text-white': sidebarSelected === 'All', 'hover:bg-blue-200 dark:hover:bg-blue-700': sidebarSelected !== 'All' }">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="size-5">
            <path d="M10 9a3 3 0 1 0 0-6 3 3 0 0 0 0 6ZM6 8a2 2 0 1 1-4 0 2 2 0 0 1 4 0ZM1.49 15.326a.78.78 0 0 1-.358-.442 3 3 0 0 1 4.308-3.516 6.484 6.484 0 0 0-1.905 3.959c-.023.222-.014.442.025.654a4.97 4.97 0 0 1-2.07-.655ZM16.44 15.98a4.97 4.97 0 0 0 2.07-.654.78.78 0 0 0 .357-.442 3 3 0 0 0-4.308-3.517 6.484 6.484 0 0 1 1.907 3.96 2.32 2.32 0 0 1-.026.654ZM18 8a2 2 0 1 1-4 0 2 2 0 0 1 4 0ZM5.304 16.19a.844.844 0 0 1-.277-.71 5 5 0 0 1 9.947 0 .843.843 0 0 1-.277.71A6.975 6.975 0 0 1 10 18a6.974 6.974 0 0 1-4.696-1.81Z" />
        </svg>
        <span>All Users</span>
    </button>

    <!-- Individual Users -->
    <div *ngFor="let user of users" class="mt-2">
      <button (click)="sidebarChange(user.name)"
          class="w-full flex items-center gap-2 py-2 px-4 rounded-lg transition-all duration-300"
          [ngClass]="{ 'bg-blue-500 text-white': sidebarSelected === user.name, 'hover:bg-blue-200 dark:hover:bg-blue-700': sidebarSelected !== user.name }">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="size-5">
            <path d="M10 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6ZM3.465 14.493a1.23 1.23 0 0 0 .41 1.412A9.957 9.957 0 0 0 10 18c2.31 0 4.438-.784 6.131-2.1.43-.333.604-.903.408-1.41a7.002 7.002 0 0 0-13.074.003Z" />
        </svg>
        <span>{{ user.name }}</span>
      </button>
    </div>

  </div>
</div>

<div *ngIf="sidebarOpen && screenWidth < 768" 
     (click)="closeSidebar()" 
     class="fixed inset-0 bg-black bg-opacity-50 z-40 md:hidden"></div>
